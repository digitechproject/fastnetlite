const CACHE_NAME="fastnetlite-v1",urlsToCache=["/","/index.html","/dashboard.html","/routers.html","/style.css","/assets/icons/icon-192x192.png","/assets/icons/icon-512x512.png","https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css","https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"];self.addEventListener("install",(e=>{console.log("Service Worker: Installation en cours"),e.waitUntil(caches.open(CACHE_NAME).then((e=>(console.log("Service Worker: Mise en cache des fichiers"),e.addAll(urlsToCache)))).then((()=>self.skipWaiting())))})),self.addEventListener("activate",(e=>{console.log("Service Worker: Activation en cours"),e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==CACHE_NAME)return console.log("Service Worker: Suppression de l'ancien cache",e),caches.delete(e)}))))).then((()=>self.clients.claim())))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request).then((t=>{if(!t||200!==t.status||"basic"!==t.type)return t;const s=t.clone();return caches.open(CACHE_NAME).then((t=>{t.put(e.request,s)})),t})))).catch((()=>{if(e.request.url.indexOf(".html")>-1)return caches.match("/index.html")})))})),self.addEventListener("push",(e=>{const t=e.data.json(),s={body:t.body,icon:"/assets/icons/icon-192x192.png",badge:"/assets/icons/icon-72x72.png",data:{url:t.url}};e.waitUntil(self.registration.showNotification(t.title,s))})),self.addEventListener("notificationclick",(e=>{e.notification.close(),e.waitUntil(clients.openWindow(e.notification.data.url))}));